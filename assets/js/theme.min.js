// @file | Form Classes
class t{constructor(t){this.selector=document.querySelectorAll(t),this.init()}init(){const t=["text","date","datetime-local","email","month","number","password","tel","time","url","week"];this.selector.forEach((e=>{let o=e.querySelectorAll("input, textarea, select"),n=e.querySelectorAll("label"),s=e.querySelectorAll("button");o.forEach((e=>{void 0!==e.type&&""!=e.type?"submit"==e.type||"reset"==e.type||"button"==e.type?e.classList.add("btn","btn--form","btn--input","btn--input-"+e.type):t.includes(e.type)?e.classList.add("input","input--text","input--"+e.type):e.type.includes("select")?e.classList.add("input","input--select","input--"+e.type):e.classList.add("input","input--"+e.type):"BUTTON"==e.tagName&&e.classList.add("btn","btn--input")})),s.forEach((t=>{let e=void 0!==t.type?"btn--"+t.type:"";t.classList.add("btn","btn--form",e)})),n.forEach((t=>{t.classList.add("label")}))}))}}
// @file: Intersects, v1.0
class e{constructor(t){this._targets=t;const e=new IntersectionObserver(this.callback,{threshold:[0,.25,.5,.75,1]});Array.from(t).forEach((t=>e.observe(t)))}callback(t,e){const o=t[0].target,n=t[0].intersectionRatio;!o.classList.contains("viewed")&&n>=.55&&o.classList.add("viewed")}}window.addEventListener("DOMContentLoaded",(()=>{void 0!==document.querySelector(".nf-form-wrap")&&"undefined"!=typeof jQuery&&jQuery(document).on("nfFormReady",(function(){new t(".nf-form-wrap")})),new t(".content form"),new e(document.querySelectorAll("img"))}));
// @file: Kin Menu, v1.0
const o=(t,e)=>(e=e||document).querySelector(t),n=(t,e)=>(e=e||document).querySelectorAll(t),s=(t,e)=>(e=e||document).getElementById(t);class a{constructor(t){const e={windowWidth:960,lockPage:!1,pageContent:document.getElementsByTagName("main")[0],groups:!1,toggleButton:{spans:3,text:"",hasWrapper:!1,wrapperContent:!1}};t.toggleButton=t.toggleButton?Object.assign(e.toggleButton,t.toggleButton):e.toggleButton,this._options=Object.assign(e,t),this._AllItems=[],this._content="string"==typeof this._options.pageContent?o(this._options.pageContent):"object"==typeof this._options.pageContent&&this._options.pageContent,this._body=document.body,this._prefix="kin"}helper(){return{safeText:t=>{let e=document.createElement("div");return e.textContent=t,e.innerText},addElement:(t,e,o)=>{if("string"==typeof o){let n;switch(e){case"append":n="beforeend";break;case"prepend":n="afterbegin";break;case"before":n="beforebegin";break;case"after":n="afterend"}o=this.helper().safeText(o),t.insertAdjacentHTML(n,o)}else if("object"==typeof o)switch(e){case"append":t.append(o);break;case"prepend":t.prepend(o);break;case"before":t.parentNode.insertBefore(o,t);break;case"after":t.parentNode.insertBefore(o,t.nextSibling)}},nextSibling:(t,e)=>{let o=t.nextElementSibling;if(!e)return o;for(;o;){if(o.matches(e))return o;o=o.nextElementSibling}}}}createToggleWrapper(){const t=this,e=this._prefix,o=this._options.toggleButton.wrapperContent;if(Array.isArray(o))o.forEach((o=>{("string"==typeof o?n(o):o).forEach((o=>{let n=o.cloneNode(!0);n.classList.add(e+"-toggle__item"),t.helper().addElement(s(e+"-toggle"),"append",n)}))}));else if(0!=o){("string"==typeof o?n(o):o).forEach((o=>{let n=o.cloneNode(!0);n.classList.add(e+"-toggle__item"),t.helper().addElement(s(e+"-toggle"),"append",n)}))}}createGroup(t,e){let o,n=this,s=this._prefix,a="string"==typeof t.class?[t.class]:Array.isArray(t.class)?t.class:[];return t.element&&(o=document.createElement(t.element),o.classList.add(s+"__group",s+"__group--"+e,...a),t.clones.forEach((t=>{document.querySelectorAll(t).forEach((t=>{let e,a;e=t.cloneNode(!0),a=e.getAttribute("id"),e.classList.add(s+"__item"),a&&e.setAttribute("id",s+"__"+a),n.helper().addElement(o,"append",e),t.classList.add(s+"-selected")}))}))),o}createBase(){const t=this,e=this._prefix,o=this._options;let n,a=""!=o.toggleButton.text?t.helper().safeText(o.toggleButton.text):"";if(n=o.toggleButton.hasWrapper?`<div id="${e}-toggle" class="${e}-toggle"><button type="button" id="${e}-toggle-button" class="${e}-toggle-button ${e}-toggle__button" aria-controls="${e}" aria-label="Toggle Menu" aria-expanded="false">${a}</button></div>`:`<button type="button" id="${e}-toggle-button" class="${e}-toggle-button" aria-controls="${e}" aria-label="Toggle Menu" aria-expanded="false">${a}</button>`,t.helper().addElement(this._body,"prepend",n+`<div id="${e}" class="${e}"><div id="${e}__inner" class="${e}__inner"></div>`),Number.isInteger(o.toggleButton.spans)&&0!==o.toggleButton.spans){const n=s(e+"-toggle-button");for(var l=0;l<o.toggleButton.spans;l++){let o=document.createElement("span");o.classList.add(e+"-toggle-button__span",e+"-toggle-button__span--"+l),t.helper().addElement(n,"append",o)}n.classList.add(e+"-toggle-button--spans-"+n.children.length)}o.toggleButton.hasWrapper&&t.createToggleWrapper()}create(){if(Array.isArray(this._options.groups)&&!this._body.classList.contains(this._prefix+"-is--loaded")){const t=this,e=this._prefix,o=this._options;if(t._body.classList.add(e+"-is--loaded",e+"-is--closed"),!document.contains(s(e))){t.createBase();const a={base:s(e),inner:s(e+"__inner"),toggleButton:s(e+"-toggle-button")};this._content.classList.add(e+"-content"),o.groups.forEach(((e,o)=>{let n=t.createGroup(e,o);t.helper().addElement(a.inner,"append",n),t._AllItems=[...t._AllItems,...e.clones]}));let l=n('a[href="'+window.location+'"]',a.inner);l.length>0&&l.forEach((t=>{t.classList.add("is-current-page"),t.parentNode.classList.add("child-is-current-page"),t.closest("."+e+"__item").classList.add(e+"__item--has-current-page")})),n("ul li, .has-dropdowns",a.inner).forEach(((o,n)=>{let s=o.getElementsByTagName("ul");s[0]&&(s[0].classList.add(e+"__drop"),t.helper().addElement(o,"prepend",`<input aria-hidden="true" class="${e}__checkbox" type="checkbox" name="sub-group--${n}" id="sub-group--${n}"/><label class="${e}__label" for="sub-group--${n}"></label>`),a.base.classList.contains(e+"--multi")||a.base.classList.add(e+"--multi"))})),a.inner.querySelectorAll(`.${e}__checkbox`).forEach((o=>{o.addEventListener("change",(n=>{let s=t.helper().nextSibling(o,`.${e}__drop`),a=t.helper().nextSibling(o,`.${e}__label`);!1===s.classList.contains(e+"__drop--active")?(a.classList.add(e+"__label--active"),s.classList.add(e+"__drop--active")):(a.classList.remove(e+"__label--active"),s.classList.remove(e+"__drop--active"))}),!1)})),document.contains(a.toggleButton)&&a.toggleButton.addEventListener("click",(e=>{t.toggle(),e.preventDefault()}))}}}toggle(){const t=this._body,e=this._prefix,n={base:s(e),content:o("."+e+"-content"),toggleButton:s(e+"-toggle-button")};t.classList.toggle(e+"-is--open"),t.classList.toggle(e+"-is--closed"),n.base.classList.toggle(e+"--active"),n.toggleButton.classList.toggle(e+"-toggle-button--active"),n.content.classList.toggle(e+"-content--active"),"false"==n.toggleButton.getAttribute("aria-expanded")?n.toggleButton.setAttribute("aria-expanded","true"):n.toggleButton.setAttribute("aria-expanded","false")}destroy(){const t=this,e=this._body,o=this._content,a=this._prefix;if(e.classList.contains(a+"-is--loaded")){const l=s(a),i=s(a+"-toggle-button"),r=s(a+"-toggle"),c=[a+"-is--loaded",a+"-is--closed",a+"-is--open"];e.classList.remove(...c),o.classList.remove(a+"-content",a+"-content--active"),l.parentNode.removeChild(l),t._options.toggleButton.hasWrapper?r.parentNode.removeChild(r):i.parentNode.removeChild(i),t._AllItems.forEach((t=>{n(t).forEach((t=>{t.classList.remove(a+"-selected")}))})),t._AllItems=[]}}setStyle(t){"string"==typeof t&&document.body.setAttribute("data-"+this._prefix,t)}init(){const t=this,e=this._options,o=this._prefix;let n;(document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth)<=e.windowWidth&&t.create(),window.addEventListener("resize",(()=>{let s=document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth;t._body.classList.contains(o+"-window-resizing")||t._body.classList.add(o+"-window-resizing"),s>=e.windowWidth?t.destroy():t.create(),clearTimeout(n),n=setTimeout((()=>{t._body.classList.remove(o+"-window-resizing")}),250)}))}}document.addEventListener("DOMContentLoaded",(()=>{const t=new a({windowWidth:960,groups:[{element:"ul",class:"side-menu",clones:["ul.navigation__menu--main > li"]}]});t.setStyle("side"),t.init()})),document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll(".slider");if(t.length>0){let e=[];t.forEach(((t,o)=>{const n=t.querySelectorAll(".slide"),s=t.classList.contains("slider--lazy"),a=t.getAttribute("data-delay");let l={container:t,mode:"carousel",speed:500,autoplayTimeout:null!=a?parseInt(a):3500,items:1,slideBy:"page",autoplay:!0,autoHeight:!0,autoplayHoverPause:!1,controlsText:["",""],controlsPosition:"bottom",nav:!0,navPosition:"bottom",autoplayButtonOutput:!1,touch:n.length>1};s&&(l.lazyload=!0,l.lazyloadSelector=".slide__image--lazy"),e[o]=tns(l),t.addEventListener("mouseenter",(()=>{e[o].pause()})),t.addEventListener("mouseleave",(()=>{e[o].play()}))}))}})),window.addEventListener("load",(()=>{document.querySelectorAll(".tns-controls button").forEach((t=>{t.setAttribute("type","button"),t.hasAttribute("data-controls")&&"prev"==t.getAttribute("data-controls")?t.setAttribute("aria-label","Previous Slide"):t.hasAttribute("data-controls")&&"next"==t.getAttribute("data-controls")&&t.setAttribute("aria-label","Next Slide")}))})),window.addEventListener("load",(()=>{if(document.body.classList.contains("baguetteBox-active")){const t=document.querySelectorAll(".wp-block-gallery:not(.no-lightbox)");t.length>0&&(t.forEach((t=>{const e=t.querySelectorAll("figure");t.querySelectorAll("a img").length>0&&t.classList.add("lightbox"),e.forEach((t=>{let e=t.querySelector("figcaption");e&&"A"==e.previousSibling.tagName&&e.previousSibling.setAttribute("data-caption",e.textContent)}))})),baguetteBox.run(".wp-block-gallery.lightbox"))}}));
